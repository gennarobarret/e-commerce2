<ng-container *ngIf="showButtons; else headerTemplate">
    <div class="card mb-4 mb-xl-0">
        <div class="card-header">Profile Picture</div>
        <div class="card-body text-center">
            <div *ngIf="isLoading; else imageTemplate">
                <div class="spinner-border" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
            </div>
            <ng-template #imageTemplate>
                <img *ngIf="sanitizedImageUrl; else placeholderTemplate" class="img-account-profile rounded-circle mb-2"
                    [ngClass]="combinedClasses" [src]="sanitizedImageUrl" alt="Profile Image" />

                <ng-template #placeholderTemplate>
                    <div class="img-account-profile rounded-circle mb-2 placeholder-image"></div>
                </ng-template>
            </ng-template>

            <div class="small font-italic text-muted mb-4">PNG, JPG, JPEG, GIF, WEBP no larger than 5 MB</div>
            <input type="file" #fileInput class="d-none" (change)="fileChangeEvent($event)" title="File Upload" />
            <button class="btn btn-primary" type="button" (click)="fileInput.click()">
                Upload and Save Image
            </button>
        </div>
    </div>
</ng-container>

<ng-template #headerTemplate>
    <img *ngIf="sanitizedImageUrl" [ngClass]="combinedClasses" [src]="sanitizedImageUrl" alt="Profile Image">
</ng-template>